npm_is_installed() {
  npm list -g | grep -Fqx "$1"
}

npm_install_or_upgrade () {
  if ! npm_is_installed "$1"; then
    fancy_echo "Installing %s" "$1"
    npm install -g "$@"
  else
    fancy_echo "Upgrading %s (if possible)" "$1"
    npm update -G "$@"
  fi
}

brew_install_or_upgrade 'node'
npm_install_or_ugprade 'bower'
npm_install_or_ugprade 'gulp'
